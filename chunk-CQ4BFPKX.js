import{a as Q}from"./chunk-3K7FZUXG.js";import{a as K}from"./chunk-OGCDA2I5.js";import{a as q,b as G}from"./chunk-P3J2OHFI.js";import{b as J,c as Y}from"./chunk-TVCIHUS6.js";import"./chunk-B6N7IAYK.js";import"./chunk-ITGKCWYE.js";import{a as ct,b as st,c as lt,d as dt}from"./chunk-VLQNEIJ2.js";import{A as ot,D as rt,E as at,b as X,g as Z,j as tt,r as it,t as et,z as nt}from"./chunk-5O657K35.js";import{a as mt}from"./chunk-Y5LNRSTU.js";import"./chunk-JXWF2BRY.js";import{d as j}from"./chunk-C6JGTCHA.js";import"./chunk-JETESJ5F.js";import"./chunk-DO2YHBIV.js";import{f as A,g as P,h as W,i as L,j as H,k as U,m as z,n as $}from"./chunk-CEHPR5GM.js";import{Bb as x,Cb as d,Na as E,Qa as a,Qb as r,Rb as D,Sb as b,Ta as T,Ub as S,Vb as w,Wb as M,Za as O,_b as N,cb as k,cc as R,da as _,dc as V,ea as g,hb as f,pb as l,qb as o,rb as e,sb as F,wb as I,xb as B,yb as C}from"./chunk-HNGYNRKD.js";var pt=n=>({"registry-underline-button":n});function _t(n,p){if(n&1){let t=C();o(0,"button",11),x("click",function(){_(t);let i=d(),m=i.$implicit,s=i.index,u=d(),y=u.$implicit,v=u.index,h=d();return g(h.onActionClick(y,v,m,s))}),r(1),e()}if(n&2){let t=d().$implicit;l("orcidBrandSecondaryDarkButton",!t.color)("color",t.color)("disabled",t.disabled)("ngClass",N(5,pt,t.underline)),a(),b(" ",t.label," ")}}function gt(n,p){if(n&1){let t=C();o(0,"button",12),x("click",function(){_(t);let i=d(),m=i.$implicit,s=i.index,u=d(),y=u.$implicit,v=u.index,h=d();return g(h.onActionClick(y,v,m,s))}),r(1),e()}if(n&2){let t=d().$implicit;l("color",t.color)("disabled",t.disabled)("ngClass",N(4,pt,t.underline)),a(),b(" ",t.label," ")}}function Ct(n,p){if(n&1){let t=C();o(0,"button",13),x("click",function(){_(t);let i=d(),m=i.$implicit,s=i.index,u=d(),y=u.$implicit,v=u.index,h=d();return g(h.onActionClick(y,v,m,s))}),r(1),e()}if(n&2){let t=d().$implicit;l("color",t.color)("disabled",t.disabled)("orcidUnderlineButton",t.underline),a(),b(" ",t.label," ")}}function xt(n,p){if(n&1&&(I(0)(1,7),f(2,_t,2,7,"button",8)(3,gt,2,6,"button",9)(4,Ct,2,4,"button",10),B()()),n&2){let t=p.$implicit;a(),l("ngSwitch",t.variant),a(),l("ngSwitchCase","flat"),a(),l("ngSwitchCase","stroked")}}function bt(n,p){if(n&1&&(o(0,"orcid-action-surface",3),F(1,"span",4),o(2,"div",5),f(3,xt,5,3,"ng-container",6),e()()),n&2){let t=p.$implicit,c=d();l("icon",t.icon)("iconColor",t.iconColor??"var(--orcid-color-state-notice-dark, #ff9c00)"),a(),l("innerHTML",c.getTrustedHtml(t.text),E),a(2),l("ngForOf",t.actions)}}var ut=(()=>{class n{constructor(t){this._sanitizer=t,this.title="",this.subtitle="",this.notifications=[],this.actionClicked=new T}getTrustedHtml(t){return this._sanitizer.bypassSecurityTrustHtml(t)}get visibleNotifications(){return(this.notifications||[]).slice(0,3)}onActionClick(t,c,i,m){this.actionClicked.emit({notificationIndex:c,actionIndex:m,notificationId:t.id,actionId:i.id,action:i})}static{this.\u0275fac=function(c){return new(c||n)(O(j))}}static{this.\u0275cmp=k({type:n,selectors:[["orcid-registry-permission-notifications"]],inputs:{title:"title",subtitle:"subtitle",notifications:"notifications"},outputs:{actionClicked:"actionClicked"},decls:3,vars:3,consts:[[3,"title","subtitle"],[1,"permission-notifications__list"],[3,"icon","iconColor",4,"ngFor","ngForOf"],[3,"icon","iconColor"],["text","",3,"innerHTML"],["actions",""],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["mat-flat-button","",3,"orcidBrandSecondaryDarkButton","color","disabled","ngClass","click",4,"ngSwitchCase"],["mat-stroked-button","",3,"color","disabled","ngClass","click",4,"ngSwitchCase"],["mat-button","",3,"color","disabled","orcidUnderlineButton","click",4,"ngSwitchDefault"],["mat-flat-button","",3,"click","orcidBrandSecondaryDarkButton","color","disabled","ngClass"],["mat-stroked-button","",3,"click","color","disabled","ngClass"],["mat-button","",3,"click","color","disabled","orcidUnderlineButton"]],template:function(c,i){c&1&&(o(0,"orcid-action-surface-container",0)(1,"div",1),f(2,bt,4,4,"orcid-action-surface",2),e()()),c&2&&(l("title",i.title)("subtitle",i.subtitle),a(2),l("ngForOf",i.visibleNotifications))},dependencies:[A,P,L,H,U,Y,J,K,Q,q,G],styles:["[_nghost-%COMP%]{display:block;width:100%}.permission-notifications__list[_ngcontent-%COMP%]{display:grid;gap:var(--orcid-space-4, 16px)}.permission-notifications__list[_ngcontent-%COMP%]     .action-surface__text{font-size:var(--orcid-font-size-body-small, 14px);line-height:21px}.registry-brand-secondary-dark[_ngcontent-%COMP%]:hover{background-color:var(--orcid-color-brand-secondary-dark, #085c77)}.registry-brand-secondary-dark[_ngcontent-%COMP%]:disabled{background-color:var(--orcid-color-brand-secondary-dark, #085c77);opacity:.6}"]})}}return n})();function yt(n,p){if(n&1){let t=C();o(0,"mat-form-field",3)(1,"mat-label"),r(2),e(),o(3,"input",4),M("ngModelChange",function(i){let m=_(t).$implicit;return w(m.text,i)||(m.text=i),g(i)}),e()()}if(n&2){let t=p.$implicit,c=p.index;a(2),b("Notification ",c+1," text"),a(),S("ngModel",t.text)}}function vt(n,p){if(n&1&&(o(0,"div",15)(1,"p",16),r(2,"Last action clicked"),e(),o(3,"pre"),r(4),R(5,"json"),e()()),n&2){let t=d();a(4),D(V(5,1,t.lastAction))}}var jt=(()=>{class n{constructor(){this.title="Unread permission notifications",this.subtitle="You have 3 updates waiting for your review.",this.notificationCount=3,this.notifications=[{id:"oxford",text:"<strong>University of Oxford</strong> wants to add information to your ORCID record",icon:"work_outline",iconColor:"var(--orcid-color-state-notice-dark, #ff9c00)",actions:[{id:"read",label:"Read",variant:"text",underline:!0},{id:"connect",label:"Connect now",variant:"flat"}]},{id:"royal-society",text:"<strong>Royal Society</strong> wants to update your affiliation details",icon:"automation",iconColor:"var(--orcid-color-state-notice-dark, #ff9c00)",actions:[{id:"read",label:"Read",variant:"text",underline:!0},{id:"connect",label:"Connect now",variant:"flat"}]},{id:"national-library",text:"<strong>National Library</strong> wants to add a peer review to your record",icon:"auto_stories",iconColor:"var(--orcid-color-state-notice-dark, #ff9c00)",actions:[{id:"read",label:"Read",variant:"text",underline:!0},{id:"connect",label:"Connect now",variant:"flat"}]}]}get visibleNotifications(){return this.notifications.slice(0,this.notificationCount)}onActionClicked(t){this.lastAction=t}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275cmp=k({type:n,selectors:[["orcid-registry-permission-notifications-page"]],decls:56,vars:11,consts:[["title","Registry Permission Notifications","description","Registry surface for unread permission notifications built with Orcid UI action surfaces."],["controls",""],[2,"display","grid","grid-template-columns","repeat(auto-fit, minmax(220px, 1fr))","gap","16px","margin-bottom","24px"],["appearance","outline"],["matInput","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value"],[2,"display","grid","gap","12px"],["appearance","outline",4,"ngFor","ngForOf"],["examples",""],[3,"actionClicked","title","subtitle","notifications"],["class","event-panel",4,"ngIf"],["usage",""],[1,"language-html"],["inputs",""],[1,"event-panel"],[1,"event-title"]],template:function(c,i){c&1&&(o(0,"app-documentation-page",0)(1,"div",1)(2,"p"),r(3," This component is part of "),o(4,"code"),r(5,"@orcid/registry-ui"),e(),r(6," and supports up to three notifications. "),e(),o(7,"div",2)(8,"mat-form-field",3)(9,"mat-label"),r(10,"Title"),e(),o(11,"input",4),M("ngModelChange",function(s){return w(i.title,s)||(i.title=s),s}),e()(),o(12,"mat-form-field",3)(13,"mat-label"),r(14,"Subtitle"),e(),o(15,"input",4),M("ngModelChange",function(s){return w(i.subtitle,s)||(i.subtitle=s),s}),e()(),o(16,"mat-form-field",3)(17,"mat-label"),r(18,"Notifications to show"),e(),o(19,"mat-select",5),M("ngModelChange",function(s){return w(i.notificationCount,s)||(i.notificationCount=s),s}),o(20,"mat-option",6),r(21,"1"),e(),o(22,"mat-option",6),r(23,"2"),e(),o(24,"mat-option",6),r(25,"3"),e()()()(),o(26,"div",7),f(27,yt,4,2,"mat-form-field",8),e()(),o(28,"div",9)(29,"orcid-registry-permission-notifications",10),x("actionClicked",function(s){return i.onActionClicked(s)}),e(),f(30,vt,6,3,"div",11),e(),o(31,"div",12)(32,"pre")(33,"code",13),r(34,`<orcid-registry-permission-notifications
  [title]="title"
  [subtitle]="subtitle"
  [notifications]="notifications"
></orcid-registry-permission-notifications>
`),e()()(),o(35,"div",14)(36,"ul")(37,"li")(38,"code"),r(39,"title"),e(),r(40,": Header title string."),e(),o(41,"li")(42,"code"),r(43,"subtitle"),e(),r(44,": Header subtitle string."),e(),o(45,"li")(46,"code"),r(47,"notifications"),e(),r(48,": Up to three notifications with actions. "),e()(),o(49,"h4"),r(50,"Outputs"),e(),o(51,"ul")(52,"li")(53,"code"),r(54,"actionClicked"),e(),r(55,": Emits the notification and action metadata. "),e()()()()),c&2&&(a(11),S("ngModel",i.title),a(4),S("ngModel",i.subtitle),a(4),S("ngModel",i.notificationCount),a(),l("value",1),a(2),l("value",2),a(2),l("value",3),a(3),l("ngForOf",i.notifications),a(2),l("title",i.title)("subtitle",i.subtitle)("notifications",i.visibleNotifications),a(),l("ngIf",i.lastAction))},dependencies:[$,P,W,it,X,Z,tt,ot,nt,et,at,rt,dt,lt,ct,st,ut,mt,z],styles:["orcid-registry-permission-notifications[_ngcontent-%COMP%]{max-width:960px}.event-panel[_ngcontent-%COMP%]{margin-top:16px;padding:12px;border-radius:6px;border:1px solid var(--orcid-color-border-subtle, #dddddd);background:var(--orcid-ui-background-lightest, #fafafa)}.event-title[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:var(--orcid-font-weight-medium, 500)}"]})}}return n})();export{jt as RegistryPermissionNotificationsPageComponent};
