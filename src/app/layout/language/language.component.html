<button
  mat-button
  [matMenuTriggerFor]="languageMenu"
  [attr.aria-label]="labelLanguage"
  class="orcid-button-light-grey"
>
  <div class="row middle space-between button-box no-wrap">
    <p class="col no-gutters">{{ languageMenuOptions[locale] }}</p>
    <mat-icon>expand_more</mat-icon>
  </div>
</button>

<mat-menu #languageMenu="matMenu" id="cy-language-menu">
  <div
    *ngFor="let language of languageMenuOptions | keyvalue"
    (click)="changeLanguage(language.key)"
  >
    <button
      mat-menu-item
      [ngClass]="{ 'orcid-mat-menu-item-active': language.key === locale }"
      class="orcid-menu-item-small"
    >
      <mat-icon *ngIf="language.key === locale">check</mat-icon>
      <mat-icon *ngIf="language.key !== locale"></mat-icon>
      {{ language.value }}
    </button>
  </div>
</mat-menu>
